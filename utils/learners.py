from sklearn.naive_bayes import MultinomialNB
import numpy


def predictAndTestNB(X, y, Xtest=[], ytest=[], alpha=1.0):
    try:
        # Define classifier and cross validation iterator
        clf = MultinomialNB(alpha=alpha)
        # Start the cross validation learning
        X, y, Xtest, ytest = numpy.array(X), numpy.array(y), numpy.array(Xtest), numpy.array(ytest)
        # Fit model
        clf.fit(X, y)
        # Validate and test model
        predicted = clf.predict(X)
        if 1 < len(Xtest) == len(ytest) > 1:
            predicted_test = clf.predict(Xtest)
        else:
            predicted_test = []

    except Exception as e:
        print(e)
        return None, [], []

    return clf, predicted, predicted_test
